<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Algoritmo Genetico</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="besouro">
    <div class="antena"></div>
    <div class="cabeca"></div>
    <div class="cabecaMenor"></div>
    <div class="corpo"></div>
    <div class="pata-esquerda"></div>
    <div class="pata-esquerda esquerda-traseira"></div>
    <div class="pata-direita"></div>
    <div class="pata-direita direita-traseira"></div>
  </div>

  <script type="module">
    import Individuo from './Individuo.js'
    import AlgoritmoGenetico from './algoritmoGenetico.js'

    let besouro = document.querySelector('.corpo')

    let qtdGeracoes = 1
    let tamPopulacao = 3
    let taxaMutacao = 0.4
    let populacao = []
    let novaPopulacao = []

    let teste = new AlgoritmoGenetico(tamPopulacao)
    
    teste.inicializarPopulacao(populacao)

    for(let j=0;j<qtdGeracoes;j++){

      teste.calcularFitness(populacao)
      teste.avaliarIndividuos(populacao)
      teste.imprimirGeracao(populacao)
      
  
      for(let i=0; i<tamPopulacao/2;i++){
        teste.crossOver(populacao, novaPopulacao)
        teste.calcularFitness(novaPopulacao)
        teste.avaliarIndividuos(novaPopulacao)
        teste.calculaMutacao(taxaMutacao, novaPopulacao)
      }

      populacao = novaPopulacao
      novaPopulacao = []
    }
    
    teste.imprimirGeracao(populacao)
    
    // Style
    besouro.style.backgroundColor = `rgb(${populacao[0].cromossomo.red},${populacao[0].cromossomo.green},${populacao[0].cromossomo.blue})`

  </script>

</body>

</html>